# üèóÔ∏è Architecture R√©vis√©e - BaoProd Workforce Suite

## üìä Analyse des Exigences R√©vis√©es

**Date** : 3 Janvier 2025  
**R√©vision** : Architecture unifi√©e avec portail unique et recherche d'offres mobile

---

## üéØ Nouvelles Exigences

### **1. Portail Unique avec Acc√®s Conditionnel**
- **Un seul portail web** avec navigation selon le profil
- **Acc√®s conditionnel** aux fonctionnalit√©s selon le r√¥le
- **Interface adaptative** selon les permissions

### **2. Recherche d'Offres dans l'App Mobile**
- **Recherche d'emplois** m√™me en poste
- **Candidatures** depuis l'application mobile
- **Notifications** pour nouvelles offres

### **3. Respect de Tous les Modules Full Dev**
- **7 modules complets** selon le cahier des charges
- **Fonctionnalit√©s avanc√©es** pour tous les profils
- **Int√©gration compl√®te** mobile ‚Üî web

---

## üèóÔ∏è Architecture R√©vis√©e

### **Solution : 1 App Mobile + 1 Portail Web Unifi√©**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    BaoProd Workforce Suite                  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  üì± Mobile Flutter          ‚îÇ  üåê Portail Web Unifi√©        ‚îÇ
‚îÇ  - Pointage g√©olocalis√©     ‚îÇ  - Acc√®s conditionnel         ‚îÇ
‚îÇ  - Recherche d'offres       ‚îÇ  - Navigation par profil      ‚îÇ
‚îÇ  - Candidatures             ‚îÇ  - Toutes les fonctionnalit√©s ‚îÇ
‚îÇ  - Timesheets               ‚îÇ  - Signature contrats         ‚îÇ
‚îÇ  - Notifications            ‚îÇ  - Gestion compl√®te           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                    üîó API REST Laravel                      ‚îÇ
‚îÇ  - Authentification JWT                                     ‚îÇ
‚îÇ  - Multi-tenant                                             ‚îÇ
‚îÇ  - 58+ endpoints                                            ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                    üóÑÔ∏è Base de Donn√©es                       ‚îÇ
‚îÇ  - PostgreSQL (Production)                                  ‚îÇ
‚îÇ  - Isolation par tenant                                     ‚îÇ
‚îÇ  - Configuration CEMAC                                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üì± Application Mobile (Flutter) - Fonctionnalit√©s √âtendues

### **üë§ Candidat/Int√©rimaire**
- ‚úÖ **Pointage g√©olocalis√©** (entr√©e/sortie)
- ‚úÖ **Consultation timesheets** (historique, d√©tails)
- ‚úÖ **Notifications push** (rappels, alertes)
- ‚úÖ **Consultation contrats** (lecture seule)
- ‚úÖ **Profil utilisateur** (modification limit√©e)
- üîÑ **Recherche d'emplois** (filtres, g√©olocalisation)
- üîÑ **Candidatures** (application en un clic)
- üîÑ **Suivi candidatures** (statuts, historique)
- üîÑ **Upload CV** (gestion des documents)
- üîÑ **Messagerie** (communication avec employeurs)
- üîÑ **Demande de cong√©s** (formulaire complet)
- üîÑ **Justification d'absences** (upload justificatifs)
- üîÑ **Consultation des soldes** (cong√©s restants)

### **üè¢ Employeur/Client** (acc√®s mobile limit√©)
- üîÑ **Consultation offres** (lecture seule)
- üîÑ **Notifications** (nouvelles candidatures)
- üîÑ **Consultation timesheets** (validation rapide)
- üîÑ **Validation des cong√©s** (approbation/rejet)
- üîÑ **Planification des repos** (jours de repos int√©rimaire)
- üîÑ **Consultation des justificatifs** (absences)

### **‚öôÔ∏è Administrateur JLC** (acc√®s complet)
- ‚úÖ **Toutes les fonctionnalit√©s candidat**
- üîÑ **Validation timesheets** (approbation/rejet)
- üîÑ **Supervision pointages** (vue d'ensemble)
- üîÑ **Gestion urgente** (validation rapide)
- üîÑ **Notifications critiques** (alertes syst√®me)
- üîÑ **Supervision des absences** (vue globale)
- üîÑ **Validation des justificatifs** (audit)

---

## üåê Portail Web Unifi√© - Architecture

### **URL Unique** : `https://workforce.baoprod.com`

#### **Navigation Conditionnelle**
```php
// Exemple de navigation conditionnelle
class NavigationService {
    public function getMenuItems($user) {
        $items = [];
        
        // Items communs √† tous
        $items[] = ['name' => 'Dashboard', 'route' => 'dashboard'];
        
        if ($user->isCandidate()) {
            $items[] = ['name' => 'Recherche Emplois', 'route' => 'jobs.search'];
            $items[] = ['name' => 'Mes Candidatures', 'route' => 'applications'];
            $items[] = ['name' => 'Mon CV', 'route' => 'profile.cv'];
        }
        
        if ($user->isEmployer() && $user->hasActiveContract()) {
            $items[] = ['name' => 'Mes Offres', 'route' => 'jobs.manage'];
            $items[] = ['name' => 'Candidatures', 'route' => 'applications.manage'];
            $items[] = ['name' => 'Timesheets', 'route' => 'timesheets.manage'];
            $items[] = ['name' => 'Facturation', 'route' => 'billing'];
        }
        
        if ($user->isAdmin()) {
            $items[] = ['name' => 'Administration', 'route' => 'admin'];
            $items[] = ['name' => 'Reporting', 'route' => 'reports'];
            $items[] = ['name' => 'Configuration', 'route' => 'settings'];
        }
        
        return $items;
    }
}
```

---

## üìã Modules Complets - Respect du Full Dev

### **Module 1 : Contrats & Signature** ‚úÖ
- **G√©n√©ration automatique** de contrats
- **Templates configurables** par pays CEMAC
- **Signature hybride** : √âlectronique + Papier
- **Workflow d'approbation** multi-niveaux
- **Archivage s√©curis√©** avec versioning

### **Module 2 : Timesheets & Pointage** ‚úÖ
- **Pointage mobile** avec g√©olocalisation
- **Calcul automatique** des heures sup/major√©es
- **Validation hi√©rarchique** configurable
- **Export pour paie**
- **Gestion des astreintes** et gardes

### **Module 3 : Paie & Facturation** ‚úÖ
- **Calcul automatique** des salaires
- **Gestion des charges** sociales par pays
- **G√©n√©ration des bulletins** de paie
- **Facturation clients** entreprises
- **Int√©gration comptabilit√©**

### **Module 4 : Absences & Cong√©s** ‚úÖ
- **Demande en ligne** de cong√©s (mobile + web)
- **Justification d'absences** avec upload de documents
- **Horodatage automatique** envoy√© √† employeur et client
- **Planification des jours de repos** par le client
- **Workflow d'approbation** configurable
- **Gestion des soldes** automatique
- **Calendrier int√©gr√©** avec conflits
- **Notifications** push, email et SMS

### **Module 5 : Reporting & BI** üîÑ
- **Tableaux de bord** avanc√©s
- **KPIs m√©tier** (taux de remplissage, turnover)
- **Exports Excel/PDF**
- **Rapports r√©glementaires**
- **Analytics pr√©dictives**

### **Module 6 : Messagerie & Notifications** üîÑ
- **Chat interne** entre parties
- **Notifications push** (mobile)
- **SMS automatiques**
- **Emails personnalis√©s** avec templates
- **Workflow d'alertes** configurables

### **Module 7 : Compliance & Audit** üîÑ
- **Audit trail** complet et inviolable
- **Conformit√© RGPD**
- **Gestion des consentements**
- **Tra√ßabilit√©** de toutes les actions
- **Rapports d'audit** automatiques

---

## üéØ Fonctionnalit√©s par Profil

### **üë§ Candidat/Int√©rimaire**

#### **Mobile**
- Pointage g√©olocalis√©
- Consultation timesheets
- Recherche d'emplois
- Candidatures
- Upload CV
- Notifications
- Messagerie

#### **Portail Web**
- Recherche avanc√©e d'emplois
- Gestion compl√®te du profil
- Suivi des candidatures
- Consultation des contrats
- Gestion des documents
- Historique complet

### **üè¢ Employeur/Client** (apr√®s contrat actif)

#### **Mobile** (limit√©)
- Consultation des offres
- Notifications candidatures
- Validation timesheets urgente

#### **Portail Web** (complet)
- Publication et gestion des offres
- Gestion des candidatures
- Suivi des timesheets
- Gestion des contrats
- Facturation
- Reporting entreprise
- Configuration

### **‚öôÔ∏è Administrateur JLC**

#### **Mobile**
- Toutes les fonctionnalit√©s candidat
- Validation timesheets
- Supervision
- Notifications critiques

#### **Portail Web**
- Gestion compl√®te des utilisateurs
- Configuration syst√®me
- Reporting global
- Support technique
- Audit et compliance

---

## üìÑ Signature des Contrats - Solutions

### **Option 1 : Signature √âlectronique (Priorit√©)**
- **Portail Web** : Signature avec certificat num√©rique
- **Mobile** : Signature tactile + validation biom√©trique
- **L√©galit√©** : Conforme aux r√©glementations CEMAC
- **Tra√ßabilit√©** : Horodatage, IP, certificat

### **Option 2 : Signature Papier (Fallback)**
- **G√©n√©ration PDF** : Contrat personnalis√©
- **Impression** : Portail web ou mobile
- **Scan/Upload** : Retour du contrat sign√©
- **Validation** : OCR pour v√©rification

### **Option 3 : Signature Mixte**
- **√âlectronique** : Pour les contrats standards
- **Papier** : Pour les contrats complexes/importants
- **Choix** : Selon pr√©f√©rence client ou r√©glementation

---

## üîÑ Flux d'Int√©gration Mobile ‚Üî Web

### **Synchronisation des Donn√©es**
```php
// Synchronisation temps r√©el
class SyncService {
    public function syncUserData($userId) {
        // Synchroniser profil, CV, candidatures
        // Entre mobile et portail web
    }
    
    public function syncTimesheets($userId) {
        // Synchroniser pointages et timesheets
        // Entre mobile et portail web
    }
    
    public function syncApplications($userId) {
        // Synchroniser candidatures
        // Entre mobile et portail web
    }
}
```

### **Notifications Unifi√©es**
- **Push Mobile** : Rappels, alertes, nouvelles offres
- **Email** : Confirmations, rapports, communications
- **SMS** : Alertes critiques, codes de validation
- **In-App** : Messages, notifications internes

---

## üìä Matrice des Fonctionnalit√©s R√©vis√©e

| Fonctionnalit√© | Mobile Candidat | Mobile Employeur | Mobile Admin | Portail Web |
|----------------|-----------------|------------------|--------------|-------------|
| **Pointage** | ‚úÖ Principal | ‚ùå | üîÑ Supervision | üîÑ Consultation |
| **Recherche emplois** | ‚úÖ Compl√®te | üîÑ Consultation | üîÑ Consultation | ‚úÖ Avanc√©e |
| **Candidatures** | ‚úÖ Compl√®te | üîÑ Consultation | üîÑ Gestion | ‚úÖ Compl√®te |
| **Gestion offres** | ‚ùå | üîÑ Consultation | ‚úÖ Gestion | ‚úÖ Compl√®te |
| **Timesheets** | ‚úÖ Consultation | üîÑ Validation | ‚úÖ Gestion | ‚úÖ Gestion |
| **Contrats** | üîÑ Consultation | ‚úÖ Gestion | ‚úÖ Gestion | ‚úÖ Compl√®te |
| **Signature** | üîÑ Basique | ‚úÖ Compl√®te | ‚úÖ Compl√®te | ‚úÖ Compl√®te |
| **Absences & Cong√©s** | ‚úÖ Compl√®te | ‚úÖ Gestion | ‚úÖ Supervision | ‚úÖ Compl√®te |
| **Facturation** | ‚ùå | ‚úÖ Consultation | ‚úÖ Gestion | ‚úÖ Gestion |
| **Reporting** | üîÑ Personnel | ‚úÖ Entreprise | ‚úÖ Global | ‚úÖ Complet |
| **Configuration** | üîÑ Profil | ‚úÖ Entreprise | ‚úÖ Syst√®me | ‚úÖ Complet |

**L√©gende** : ‚úÖ Principal | üîÑ Secondaire | ‚ùå Non disponible

---

## üöÄ Avantages de l'Architecture R√©vis√©e

### **1. Simplicit√©**
- **Un seul portail** √† maintenir
- **Navigation intuitive** selon le profil
- **Interface coh√©rente** entre mobile et web

### **2. Flexibilit√©**
- **Acc√®s conditionnel** aux fonctionnalit√©s
- **Recherche d'emplois** m√™me en poste
- **Signature hybride** selon pr√©f√©rence

### **3. Compl√©tude**
- **Tous les modules** du full dev respect√©s
- **Fonctionnalit√©s avanc√©es** pour tous les profils
- **Int√©gration compl√®te** mobile ‚Üî web

### **4. √âvolutivit√©**
- **Architecture modulaire** et extensible
- **Ajout facile** de nouvelles fonctionnalit√©s
- **Scalabilit√©** pour de nouveaux pays

---

## üìÖ Planning de D√©veloppement R√©vis√©

### **Semaine 1 : Portail Unifi√©**
- Structure et authentification
- Navigation conditionnelle
- Dashboard adaptatif

### **Semaine 2 : Modules Candidat**
- Recherche d'emplois avanc√©e
- Gestion des candidatures
- Upload et gestion CV

### **Semaine 3 : Modules Employeur**
- Publication et gestion des offres
- Gestion des candidatures
- Suivi des timesheets

### **Semaine 4 : Modules Admin + Signature**
- Administration compl√®te
- Signature √©lectronique
- Int√©gration mobile ‚Üî web

---

## üéØ Conclusion

L'architecture r√©vis√©e respecte toutes vos exigences :

‚úÖ **Portail unique** avec acc√®s conditionnel  
‚úÖ **Recherche d'offres** dans l'app mobile  
‚úÖ **Tous les modules** du full dev respect√©s  
‚úÖ **Signature hybride** √©lectronique + papier  
‚úÖ **Int√©gration compl√®te** mobile ‚Üî web  

Cette solution offre la **simplicit√©** d'un portail unique tout en conservant la **richesse fonctionnelle** de tous les modules pr√©vus dans le full dev.

---

*Architecture r√©vis√©e le 3 Janvier 2025*  
*Solution : 1 App Mobile + 1 Portail Web Unifi√©*  
*Respect complet des 7 modules du full dev*